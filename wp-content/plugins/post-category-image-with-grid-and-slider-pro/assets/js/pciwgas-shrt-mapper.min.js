var timer,timeOut_Val=300,timeOut=timeOut_Val,preview_shortcode=jQuery(".pciwgaspro-customizer").attr("data-shortcode"),dep_wrap=".pciwgaspro-customizer-control",dependency=jQuery(dep_wrap+" .pciwgaspro-cust-dependency").attr("data-dependency");function pciwgaspro_generate_shortcode_preview(){var c="",e=jQuery(".pciwgaspro-customizer"),r=jQuery(".pciwgaspro-customizer-control"),p=preview_shortcode;clearTimeout(timer),timer=setTimeout(function(){e.find(".pciwgaspro-customizer-loader").fadeIn(),c+="["+p,r.find('input[type="text"], input[type="checkbox"]:checked, input[type="radio"], input[type="number"], textarea, select').each(function(e,r){var p,i,o,t;jQuery(this).hasClass("pciwgaspro-cust-hidden-field")||(p=jQuery(this).val(),i=jQuery(this).attr("name"),o=jQuery(this).attr("data-default"),t=jQuery(this).attr("data-empty"),void 0===p||""==p&&!t||p==o||(c+=" "+i+'="'+p+'"'))}),c+="]",e.find(".pciwgaspro-customizer-shrt").val(c),jQuery("#pciwgaspro-customizer-shrt-form").trigger("submit"),e.find(".pciwgaspro-customizer-preview-frame").on("load",function(){e.find(".pciwgaspro-customizer-loader").fadeOut()})},timeOut)}function pciwgaspro_check_ref_dependency(p){var i;ref_dep=p in dependency,ref_dep&&(i=jQuery(dep_wrap+" .pciwgaspro-"+p).val(),jQuery.each(dependency[p].show,function(e,r){jQuery(dep_wrap+" .pciwgaspro-"+e).closest(".pciwgaspro-customizer-row").hide(),jQuery(dep_wrap+" .pciwgaspro-"+e).addClass("pciwgaspro-cust-hidden-field"),-1!==jQuery.inArray(i,r)&&jQuery(dep_wrap+" .pciwgaspro-"+p).is(":visible")&&(jQuery(dep_wrap+" .pciwgaspro-"+e).closest(".pciwgaspro-customizer-row").show(),jQuery(dep_wrap+" .pciwgaspro-"+e).removeClass("pciwgaspro-cust-hidden-field")),pciwgaspro_check_ref_dependency(e)}))}dependency=void 0!==dependency?JSON.parse(dependency):"",function(t){"use strict";t(document).on("click",".pciwgaspro-cust-dwp",function(){t("body").toggleClass("pciwgaspro-cust-full-preview"),t(this).toggleClass("pciwgaspro-cust-dwp-active")}),t("#pciwgaspro-cust-accordion").accordion({collapsible:!0,heightStyle:"content",icons:{header:"dashicons dashicons-arrow-down-alt2",activeHeader:"dashicons dashicons-arrow-up-alt2"}}),t(document).on("change",'.pciwgaspro-customizer-control select, .pciwgaspro-customizer-control input[type="number"]',function(){var e=t(this).attr("data-timeout");timeOut=void 0!==e?e:timeOut_Val,pciwgaspro_generate_shortcode_preview()}),t(document).on("keyup",'.pciwgaspro-customizer-control input[type="text"], .pciwgaspro-customizer-control input[type="number"]',function(){var e=t(this).attr("data-timeout");timeOut=void 0!==e?e:timeOut_Val,pciwgaspro_generate_shortcode_preview()}),t(document).on("change",".pciwgaspro-cust-shrt-switcher",function(){var e=t(this).find(":selected").attr("data-url");void 0!==e&&""!=e&&(window.location=e)}),jQuery("document").on("submit","#pciwgaspro-customizer-shrt-form",function(e){var r=t(this).attr("target");if(void 0===r||""==r)return!1}),t(document).on("click",".pciwgaspro-cust-shrt-generate",function(){var e=t(".pciwgaspro-customizer-shrt").val(),r=(e=e.trim()).substr(0,1),p=e.substr(-1),i=!1;if(""==e)return!1;"["==r&&"]"==p&&(r=(e=(e=e.slice(1,-1)).trim()).substr(0,1),p=e.substr(-1)),"["!=r&&(e="["+e),"]"!=p&&(e+="]"),t(".pciwgaspro-customizer-shrt").val(e);e=(e=e.slice(1,-1)).trim(),e=wp.shortcode.attrs(e);if(e.numeric[0]&&e.numeric[0]!==preview_shortcode)return alert(Pciwgaspro_Shrt_Mapper.shortocde_err),!1;e.named&&t.each(e.named,function(e,r){e&&(t(".pciwgaspro-customizer-control .pciwgaspro-"+e).val(r).trigger("change").trigger("keyup"),i=!0)}),1!=i&&pciwgaspro_generate_shortcode_preview()}),dependency?t.each(dependency,function(e,r){e&&(setTimeout(function(){t(dep_wrap+" .pciwgaspro-"+e).trigger("change")},10),t(document).on("change keyup",dep_wrap+" .pciwgaspro-"+e,function(){var o=t(this).val();r.show&&t.each(r.show,function(e,r){t(dep_wrap+" .pciwgaspro-"+e).closest(".pciwgaspro-customizer-row").hide(),t(dep_wrap+" .pciwgaspro-"+e).addClass("pciwgaspro-cust-hidden-field"),-1!==t.inArray(o,r)&&(t(dep_wrap+" .pciwgaspro-"+e).closest(".pciwgaspro-customizer-row").show(),t(dep_wrap+" .pciwgaspro-"+e).removeClass("pciwgaspro-cust-hidden-field")),pciwgaspro_check_ref_dependency(e)}),r.hide&&t.each(r.hide,function(p,e){var i;t(dep_wrap+" .pciwgaspro-"+p).closest(".pciwgaspro-customizer-row").show(),t(dep_wrap+" .pciwgaspro-"+p).removeClass("pciwgaspro-cust-hidden-field"),-1!==t.inArray(o,e)&&(t(dep_wrap+" .pciwgaspro-"+p).closest(".pciwgaspro-customizer-row").hide(),t(dep_wrap+" .pciwgaspro-"+p).addClass("pciwgaspro-cust-hidden-field")),ref_dep=p in dependency,ref_dep&&(i=t(dep_wrap+" .pciwgaspro-"+p).val(),t.each(dependency[p].hide,function(e,r){t(dep_wrap+" .pciwgaspro-"+e).closest(".pciwgaspro-customizer-row").hide(),t(dep_wrap+" .pciwgaspro-"+e).addClass("pciwgaspro-cust-hidden-field"),-1==t.inArray(i,r)&&t(dep_wrap+" .pciwgaspro-"+p).is(":visible")&&(t(dep_wrap+" .pciwgaspro-"+e).closest(".pciwgaspro-customizer-row").show(),t(dep_wrap+" .pciwgaspro-"+e).removeClass("pciwgaspro-cust-hidden-field"))}))})}))}):pciwgaspro_generate_shortcode_preview()}(jQuery);